(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0decd3"],{"86cb":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-card",{staticClass:"card-contain"},[t("div",{staticClass:"mb-10"},[e._v(" 选择合约 "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeContract},model:{value:e.contractName,callback:function(a){e.contractName=a},expression:"contractName"}},e._l(e.list,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.chooseFunctionList.length?t("div",[t("div",{staticClass:"mb-10"},[e._v(" 选择合约方法 "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeFunctionKey},model:{value:e.functionKey,callback:function(a){e.functionKey=a},expression:"functionKey"}},e._l(e.chooseFunctionList,(function(e){return t("el-option",{key:e.functionKey,attrs:{label:e.functionKey,value:e.functionKey}})})),1)],1),e.functionData.paramType&&e.functionData.paramType.length?t("div",{staticClass:"mb-10"},[e._l(e.functionData.paramType,(function(a,n){return t("div",{key:a.type+n+e.functionData.name,staticClass:"mb-10"},[t("el-input",{staticStyle:{"max-width":"500px"},attrs:{clearable:"",placeholder:"请输入"+a.name+":"+a.type+(a.decimals&&a.decimals>0?",精度为"+a.decimals+",输入1，则传入合约数量为"+Math.pow(10,a.decimals):"")},model:{value:e.enterList[n],callback:function(a){e.$set(e.enterList,n,a)},expression:"enterList[index]"}})],1)})),e.functionData.showBNBInput?t("div",{staticClass:"mb-10"},[t("el-input",{attrs:{clearable:"",placeholder:"请输入BNB数量"},model:{value:e.enterBNBnum,callback:function(a){e.enterBNBnum=a},expression:"enterBNBnum"}})],1):e._e()],2):e._e(),e.functionData.showTextObj&&e.functionData.showTextObj.length?t("div",{staticClass:"mb-10"},e._l(e.functionData.showTextObj,(function(a){return t("div",{key:a.showText,staticClass:"mb-10"},[e._v(" "+e._s(a.showText)+" "+e._s(a.tip?"":":")+" "+e._s(a.showVlaue)+" ")])})),0):e._e()]):e._e()]),t("el-card",{staticClass:"card-contain"},[t("el-tabs",{attrs:{type:"card"}},[t("el-tab-pane",{attrs:{label:"EOA"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.executiveFunction}},[e._v("确定执行")]),"deposit"==e.functionData.functionKey?t("div",[t("div",{staticClass:"mb-10"}),t("el-button",{attrs:{type:"primary"},on:{click:e.approveV42}},[e._v("授权V42")]),t("div",{staticClass:"mb-10"}),t("el-button",{attrs:{type:"primary"},on:{click:e.approveBTB}},[e._v("授权BTB")])],1):e._e()],1)],1)],1)],1)},s=[],i=t("2909"),r=t("c7eb"),c=t("1da1"),o=t("5530"),u=(t("d81d"),t("b64b"),t("b680"),t("7db0"),t("d3b7"),t("159b"),t("5d3f")),f=t("2f62"),d=t("e07e"),l=t("291a"),p=t("db49"),m=t("3de1"),b={value:"BondBuyManager",label:"BondBuyManager",functionList:[{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"deposit",showBNBInput:!1,paramType:[{type:"bytes32",decimals:0,name:"ilk_"},{type:"uint256",decimals:18,name:"amount_"}],showTextObj:[],muticallData:[]},{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"withdraw",paramType:[{type:"bytes32",decimals:0,name:"ilk_"},{type:"uint256",decimals:18,name:"amount_"}],showTextObj:[{showText:"合约中BTB数量",dataKey:"",showFun:function(e){return Object(m["a"])(Object(m["i"])(e))},showVlaue:""},{showText:"合约中V42数量",dataKey:"",showFun:function(e){return Object(m["a"])(Object(m["i"])(e))},showVlaue:""}],muticallData:[{abi:"erc20",address:u["a"].BTB,params:[u["a"].BondBuyManager],method:"balanceOf"},{abi:"erc20",address:u["a"].V42,params:[u["a"].BondBuyManager],method:"balanceOf"}]},{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"setLiquidateLine",paramType:[{type:"uint32",decimals:0,name:"liquidateLine_"}],showTextObj:[{showText:"合约清算线",dataKey:"",showFun:function(e){return"".concat(e)},showVlaue:""}],muticallData:[{abi:"BondBuyManager",address:u["a"].BondBuyManager,params:[],method:"liquidateLine"}]},{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"setPledgeRate",paramType:[{type:"uint32",decimals:0,name:"pledgeRate_"}],showTextObj:[{showText:"合约质押率",dataKey:"",showFun:function(e){return"".concat(e)},showVlaue:""}],muticallData:[{abi:"BondBuyManager",address:u["a"].BondBuyManager,params:[],method:"pledgeRate"}]},{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"setAlarmLiquidateLine",paramType:[{type:"uint32",decimals:0,name:"pledgeRate_"}],showTextObj:[{showText:"清算报警线",dataKey:"",showFun:function(e){return"".concat(e)},showVlaue:""}],muticallData:[{abi:"BondBuyManager",address:u["a"].BondBuyManager,params:[],method:"alarmLiquidateLine"}]},{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"withdrawPusd",paramType:[],showTextObj:[{showText:"合约中PUSD数量",dataKey:"",showFun:function(e){return Object(m["a"])(Object(m["i"])(e))},showVlaue:""}],muticallData:[{abi:"erc20",address:u["a"].PUSD,params:[u["a"].BondBuyManager],method:"balanceOf"}]},{abi:"BondBuyManager",address:u["a"].BondBuyManager,functionKey:"liquidateBond",paramType:[],showTextObj:[{showText:"是否清算",dataKey:"",showFun:function(e){return e},showVlaue:""}],muticallData:[{abi:"BondBuyManager",address:u["a"].BondBuyManager,params:[],method:"getCanLiquidate"}]}]},h={},y={BSC:b,BSCTEST:b,TRON:h,SHASTA:h},B=y[p["b"]],w={value:"BTBPartnerDividend",label:"BTBPartnerDividend",functionList:[{abi:"BTBPartnerDividend",address:u["a"].BTBPartnerDividend,functionKey:"withdrawToken",paramType:[{type:"address",decimals:0,name:"token_",defaultValue:u["a"].BTB},{type:"address",decimals:0,name:"to_"},{type:"uint256",decimals:18,name:"amount_"}],showTextObj:[{showText:"合约中BTB数量",dataKey:"",showFun:function(e){return Object(m["a"])(Object(m["i"])(e))},showVlaue:""},{showText:"amount传入为0时，相当于从合约中全部提取",tip:!0,dataKey:"",showFun:function(e){return""},showVlaue:""}],muticallData:[{abi:"erc20",address:u["a"].BTB,params:[u["a"].BTBPartnerDividend],method:"balanceOf"}]}]},v={},O={BSC:w,BSCTEST:w,TRON:v,SHASTA:v},T=O[p["b"]],g=[B,T],x=t("5c96"),j=t("c0d8"),D=t.n(j),M=t("c030"),K={name:"Function",data:function(){return{list:g,contractName:"",chooseFunctionList:[],functionKey:"",functionData:{},enterList:[],enterBNBnum:"",signDec:"",userInvest:!1,topUserRole:!1,changeRate:!1,inquireRole:!1}},computed:Object(o["a"])({},Object(f["b"])(["userAddress"])),watch:{userAddress:{handler:function(){this.getPermission()}}},components:{},mounted:function(){this.getPermission()},methods:{getPermission:function(){return Object(c["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},formatParam:function(){var e=this,a=this.functionData.paramType.map((function(a,t){if(a.type.indexOf("[]")>-1){var n=JSON.parse(e.enterList[t]);return a.type.indexOf("uint")>-1?n=n.map((function(e){return Object(m["j"])(e,a.decimals||0).toFixed(0,1)})):a.type.indexOf("bytes32")>-1&&(n=n.map((function(e){return M["a"].utils.formatBytes32String(e)}))),n}var s=e.enterList[t];return a.type.indexOf("uint")>-1?s=Object(m["j"])(s,a.decimals||0).toFixed(0,1):"bytes32"==a.type&&(s=M["a"].utils.formatBytes32String(s)),s}));return a},executiveFunction:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var t;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["a"])({abi:e.functionData.abi,address:e.functionData.address,params:Object(i["a"])(e.formatParam()),method:e.functionData.functionKey,type:"send"});case 2:t=a.sent,t&&x["Message"].success("执行成功");case 4:case"end":return a.stop()}}),a)})))()},changeContract:function(e){this.chooseFunctionList=this.list.find((function(a){return a.value==e})).functionList},changeFunctionKey:function(e){var a=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var n,s,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.functionData=a.chooseFunctionList.find((function(a){return a.functionKey==e})),a.enterList=[],a.functionData.paramType.forEach((function(e,t){e.defaultValue&&(a.enterList[t]=e.defaultValue)})),a.enterBNBnum="",a.signDec="",!(a.functionData.muticallData&&a.functionData.muticallData.length>0)){t.next=14;break}return t.next=8,Object(l["a"])(a.functionData.muticallData);case 8:return n=t.sent,s=Object(m["h"])(),t.next=12,s.getBlockNumber();case 12:i=t.sent,a.functionData.showTextObj.forEach(function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(a,t){var s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.dataKey?n[t][a.dataKey]:n[t],a.showVlaue=a.showFun?a.showFun(s,i,n):s;case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})))()},changeBytes32:function(e){this.enterList[e]=D.a.utils.stringToHex(this.enterList[e])},approveV42:function(){return Object(c["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])({abi:"erc20",address:u["a"].V42,params:[u["a"].BondBuyManager,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],method:"approve",type:"send"});case 2:a=e.sent,a&&x["Message"].success("授权成功");case 4:case"end":return e.stop()}}),e)})))()},approveBTB:function(){return Object(c["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])({abi:"erc20",address:u["a"].BTB,params:[u["a"].BondBuyManager,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],method:"approve",type:"send"});case 2:a=e.sent,a&&x["Message"].success("授权成功");case 4:case"end":return e.stop()}}),e)})))()}}},_=K,L=t("2877"),k=Object(L["a"])(_,n,s,!1,null,null,null);a["default"]=k.exports}}]);