(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c9bbfb6"],{"2a94":function(e,t,a){"use strict";a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return l})),a.d(t,"e",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return j})),a.d(t,"a",(function(){return O}));a("99af"),a("d3b7");var r=a("bc3a"),n=a.n(r),s=a("5c96"),c=a("4360"),i=n.a.create({baseURL:"/prod-api",timeout:5e3});i.interceptors.request.use((function(e){return c["a"].getters.token,e}),(function(e){return console.log(e),Promise.reject(e)})),i.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return console.log("err"+e),Object(s["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var o=i,u=a("db49"),d="https://gateway-arbitrum.network.thegraph.com/api/81fced1247c8c968d50329406028313f/subgraphs/id/E3HmHj1DiYFj3DSrTUxjfYdcMDcY6qdB8ZKuw263rct9",l="https://gateway-arbitrum.network.thegraph.com/api/81fced1247c8c968d50329406028313f/subgraphs/id/9fvP6TFwnJGJxNKxsfEhnSTgde91BwkPrjpznywtkaap",b={BSC:"https://bscstat.paraluni.org",BSCTEST:"https://bscstat.paraluni.org",SHASTA:"https://bscstat.paraluni.org",TRON:"https://bscstat.paraluni.org"},p={BSC:"bsc",BSCTEST:"test",SHASTA:"",TRON:""},h=(u["b"],u["b"],function(e){return o("".concat(b[u["b"]],"/").concat(p[u["b"]],"/v42SFPlan?planIdGt=-1&planIdLt=").concat(e,"&status=0"))}),f=function(e){return o("".concat(b[u["b"]],"/").concat(p[u["b"]],"/v42SFPlanSum"))},m=function(e){return o("".concat(b[u["b"]],"/").concat(p[u["b"]],"/v42SFPlanSum?planIdGt=").concat(e,"&status=0"))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o("".concat(b[u["b"]],"/").concat(p[u["b"]],"/v42SFPlanSum?status=").concat(e))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o("".concat(b[u["b"]],"/").concat(p[u["b"]],"/v42SFPlan?onlyCnt=1&planIdGt=").concat(e,"&status=1\n  "))}},6333:function(e,t,a){"use strict";a.r(t);var r,n,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"card-contain"},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"池子信息"}},[a("ParamInfo")],1),a("el-tab-pane",{attrs:{label:"借贷白名单"}},[e.hasWhiteRole?a("WhiteList"):e._e(),e.hasWhiteRole?e._e():a("el-empty",{attrs:{description:"暂无权限"}})],1)],1)],1)},c=[],i=a("c7eb"),o=a("1da1"),u=a("5530"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticClass:"mb-10",attrs:{type:"primary"},on:{click:e.getInfo}},[e._v("刷新数据")]),e._l(e.robotAddressCoin,(function(t,r){return a("el-descriptions",{key:r,staticClass:"mb-20",attrs:{title:"机器人 bnb 余额",direction:"vertical",border:"",column:2}},[a("el-descriptions-item",{attrs:{label:"地址"+(r+1)}},[e._v(e._s(t.addressInfo))]),a("el-descriptions-item",{attrs:{label:"余额"}},[e._v(e._s(t.num))])],1)})),a("el-descriptions",{staticClass:"mb-20",attrs:{title:"借贷参数",direction:"vertical",border:"",column:2}},[a("el-descriptions-item",{attrs:{label:"时间"}},[e._v(e._s(e.loadParam[0]))]),a("el-descriptions-item",{attrs:{label:"USDT借款利率"}},[e._v(e._s(e.loadParam[1]))]),a("el-descriptions-item",{attrs:{label:"USDT余额"}},[e._v(e._s(e.loadParam[2]))]),a("el-descriptions-item",{attrs:{label:"pUSDT汇率"}},[e._v(e._s(e.loadParam[3]))]),a("el-descriptions-item",{attrs:{label:"BTC价格"}},[e._v(e._s(e.loadParam[4]))]),a("el-descriptions-item",{attrs:{label:"V42移动平均价"}},[e._v(e._s(e.loadParam[5]))]),a("el-descriptions-item",{attrs:{label:"PUSD发行总量"}},[e._v(e._s(e.loadParam[6]))])],1),a("el-descriptions",{staticClass:"mb-20",attrs:{title:"借贷参数",direction:"vertical",border:"",column:2}},[a("el-descriptions-item",{attrs:{label:"累计从Chef转入Custodian的USDT"}},[e._v(e._s(e.transferList[0]))]),a("el-descriptions-item",{attrs:{label:"累计从Custodian转入Chef的USDT"}},[e._v(e._s(e.transferList[1]))]),a("el-descriptions-item",{attrs:{label:"净转入Custodian的USDT数量"}},[e._v(e._s(e.transferList[2]))])],1)],2)},l=[],b=a("8785"),p=a("2909"),h=(a("99af"),a("d81d"),a("d3b7"),a("3ca3"),a("a573"),a("ddb0"),a("2f62")),f=a("5d3f"),m=a("3de1"),j=a("e852"),O=a("2ef0"),v=a("291a"),g=a("db49"),w={robotAddress:["0xA351421a13cF4Fde6c8E86bF440F65D5Ff718bEB","0xA8eE5D55ee7951F38F43732BbA3EB37d5a3b95aC","0x60Ad4A06c03aCD4b1cd66B03AD60cAe7276eB467"],pUSDT:f["a"].PUSDT,pBTCB:f["a"].PBTCB,pV42:f["a"].PV42},S=function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(){var t;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(v["a"])([{abi:"PledgeErc20",address:w.pUSDT,method:"borrowRatePerBlock",params:[]},{abi:"PledgeErc20",address:w.pUSDT,method:"getCash",params:[]},{abi:"PledgeErc20",address:w.pUSDT,method:"exchangeRateStored",params:[]},{abi:"CLinkPriceOracle",address:f["a"].CLinkPriceOracle,method:"getUnderlyingPrice",params:[w.pBTCB]},{abi:"CLinkPriceOracle",address:f["a"].CLinkPriceOracle,method:"getUnderlyingPrice",params:[w.pV42]},{abi:"erc20",address:f["a"].PUSD,method:"totalSupply",params:[]}]);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=a("5a0c"),C=a.n(P),A=(a("901e"),a("2a94"),{name:"PusdPoolInfo",computed:Object(u["a"])({},Object(h["b"])(["userAddress"])),watch:{userAddress:{handler:function(){this.getInfo()}}},data:function(){return{robotAddressCoin:[],loadParam:[],transferList:[]}},mounted:function(){this.getInfo()},methods:{numFormat:function(e){return Object(m["a"])(Object(m["i"])(e),4)},getInfo:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userAddress){t.next=2;break}return t.abrupt("return");case 2:e.getRobotCoin(),e.getLoadParam(),e.getTransfer();case 5:case"end":return t.stop()}}),t)})))()},getRobotCoin:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(m["h"])(),t.next=3,Promise.all(w.robotAddress.map((function(e){return a.getBalance(e)})));case 3:r=t.sent,e.robotAddressCoin=r.map((function(e,t){return{addressInfo:Object(m["k"])(w.robotAddress[t]),num:Object(m["l"])(Object(m["i"])(e),8)}}));case 5:case"end":return t.stop()}}),t)})))()},getLoadParam:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:a=t.sent,e.loadParam=[C()().format("YYYY-MM-DD hh:mm:ss")].concat(Object(p["a"])(a.map((function(e,t){return 0==t?Object(m["l"])(Object(m["i"])((e||0)/3*86400*365*100),8):Object(m["l"])(Object(m["i"])(e||0))}))));case 4:case"end":return t.stop()}}),t)})))()},getTransfer:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,s,c,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["request"])("https://graphql.bitquery.io",Object(j["gql"])(r||(r=Object(b["a"])(["{\n        ethereum(network: ",') {\n          transfers(\n            receiver: {is: "','"}\n            sender: {in: ["','", "','"]}\n            currency: {is: "','"}\n          ) {\n            sender {\n              address\n            }\n            amount\n          }\n        }\n        }'])),g["a"],f["a"].CustoDian,f["a"].MasterChef,f["a"].SousChef,f["a"].USDT),{},{"X-API-KEY":window.localStorage.getItem("bitquery_key")||g["c"][Math.floor(Math.random()*g["c"].length)]}).catch();case 2:return a=t.sent,t.next=5,Object(j["request"])("https://graphql.bitquery.io",Object(j["gql"])(n||(n=Object(b["a"])(["{\n        ethereum(network: ",') {\n          transfers(\n            sender: {is: "','"}\n            receiver: {in: ["','", "','"]}\n            currency: {is: "','"}\n          ) {\n            receiver {\n              address\n            }\n            amount\n          }\n        }\n        }'])),g["a"],f["a"].CustoDian,f["a"].MasterChef,f["a"].SousChef,f["a"].USDT),{},{"X-API-KEY":window.localStorage.getItem("bitquery_key")||g["c"][Math.floor(Math.random()*g["c"].length)]}).catch();case 5:s=t.sent,c=0,Object(O["get"])(a,"ethereum.transfers",[]).map((function(e){c+=parseFloat(e.amount||0)})),o=0,Object(O["get"])(s,"ethereum.transfers",[]).map((function(e){o+=parseFloat(e.amount||0)})),e.transferList=[Object(m["l"])(c,2),Object(m["l"])(o,2),Object(m["l"])(c-o,2)];case 11:case"end":return t.stop()}}),t)})))()}}}),_=A,k=a("2877"),D=Object(k["a"])(_,d,l,!1,null,null,null),x=D.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-input",{staticStyle:{"max-width":"520px"},attrs:{placeholder:"请输入内容"},model:{value:e.whiteAddress,callback:function(t){e.whiteAddress=t},expression:"whiteAddress"}},[a("template",{slot:"append"},[a("el-button",{attrs:{type:"info"},on:{click:e.searchAddress}},[e._v("查询")])],1)],2),a("div",{staticClass:"mb-10"}),!e.isWhiteAddress&&e.isSearch?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeWhiteAddress(!0)}}},[e._v("添加")]):e._e(),e.isWhiteAddress&&e.isSearch?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeWhiteAddress(!1)}}},[e._v("删除")]):e._e()],1)],1)},T=[],U=a("e07e"),B={name:"PusdPoolInfo",computed:Object(u["a"])({},Object(h["b"])(["userAddress"])),watch:{userAddress:{handler:function(){this.getInfo()}}},data:function(){return{whiteAddress:"",isSearch:!1,isWhiteAddress:!1}},mounted:function(){},methods:{numFormat:function(e){return Object(m["a"])(Object(m["i"])(e),4)},searchAddress:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["a"])({abi:"CustoDian",address:f["a"].CustoDian,method:"whitelist",params:[e.whiteAddress],type:"call"});case 2:e.isWhiteAddress=t.sent,e.isSearch=!0;case 4:case"end":return t.stop()}}),t)})))()},changeWhiteAddress:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(U["a"])({abi:"CustoDian",address:f["a"].CustoDian,method:"setWhitelist",params:[[t.whiteAddress],[e]],type:"send"});case 2:r=a.sent,r&&(t.isSearch=!1,t.$message.success("设置成功"));case 4:case"end":return a.stop()}}),a)})))()}}},I=B,F=Object(k["a"])(I,y,T,!1,null,null,null),E=F.exports,R=a("2934"),L={name:"PUSDAdmin",data:function(){return{paramRole:!1,userInvest:!1,topUserRole:!1,hasWhiteRole:!1}},computed:Object(u["a"])({},Object(h["b"])(["userAddress"])),watch:{userAddress:{handler:function(){this.getRole()}}},components:{ParamInfo:x,WhiteList:E},mounted:function(){this.getRole()},methods:{getRole:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(R["j"])("CustoDian",f["a"].CustoDian,"0x321d979b2c3c55cb837c5a53a37e8f1e4e838ff4234a0f1bd9c67e62f5ea1bd9",e.userAddress);case 2:e.hasWhiteRole=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},W=L,q=Object(k["a"])(W,s,c,!1,null,null,null);t["default"]=q.exports}}]);